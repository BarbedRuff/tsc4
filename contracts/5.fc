(int) tlen (tuple t) asm "TLEN";

() recv_internal() {
}

(tuple) fibonacci_sequence(int n, int k) method_id {
  tuple tp = empty_tuple();
  int f0 = 0;
  int f1 = 1;
  while(tp.tlen() != k){
    if(n <= 0){
      if(tp.tlen() == (k - 3)){
        tp~tpush(f0);
        tp~tpush(f1);
        tp~tpush(f0 + f1);
        return tp;
      }
      tp~tpush(f0);
    }
    (f0, f1) = (f1, f0 + f1);
    n -= 1;
  }
  return tp;
}